<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:fontawesome="clr-namespace:FontAwesome"
             x:Class="AppTesteBinding.View.MenuPrincipal.PageTeste" NavigationPage.HasNavigationBar="False">
    <ContentPage.Content>
        <StackLayout>
            <Grid BackgroundColor="#309C99">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="50"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                </Grid.RowDefinitions>

                <Label Grid.Column="0" Margin="10" Text="{x:Static fontawesome:FontAwesomeIcons.ArrowCircleLeft}" Style="{StaticResource EntryIcon}" x:Name="lblVoltar"/>
                <Label Grid.Column="1" Text="COMENTE NAS NOSSAS EMPRESAS" TextColor="#FFF" FontFamily="Roboto Condensed" HorizontalTextAlignment="Center" FontSize="Large" VerticalOptions="Center" FontAttributes="Bold"/>
                <Label Grid.Column="2" Margin="10" Text="{x:Static fontawesome:FontAwesomeIcons.ThumbsUp}" Style="{StaticResource EntryIcon}"/>
            </Grid>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Button Style="{StaticResource ButtonStyleTransparenteVerde}" x:Name="NenhumComentario" Text="FAÇA A PRIMEIRA AVALIAÇÃO" VerticalOptions="CenterAndExpand" IsVisible="False" Margin="0,50,0,0"/>

                <ActivityIndicator x:Name="actInd" Color="#309C99" VerticalOptions="CenterAndExpand"/>

                <ListView x:Name="listaProdutos" HasUnevenRows="True" SeparatorVisibility="None">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <ViewCell>
                                <Frame Margin="10, 5" BorderColor="MidnightBlue" CornerRadius="10">
                                    <Grid Padding="2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <Label Grid.Row="0" Grid.ColumnSpan="2" Text="{Binding Nome}" TextColor="#666" FontAttributes="Bold" HorizontalOptions="Start"/>
                                        <Label Grid.Row="0" Grid.Column="2" Text="{Binding Empresa}" HorizontalTextAlignment="Center" TextColor="#ccc" HorizontalOptions="Center"/>


                                        <Label Grid.Row="1" Grid.ColumnSpan="3" Text="{Binding Texto}" TextColor="#111" HorizontalOptions="StartAndExpand"/>

                                        <StackLayout Grid.Row="2" Grid.Column="0" Orientation="Horizontal">
                                            <Label Text="Nota: " FontAttributes="Bold" HorizontalOptions="End"/>
                                            <Label Text="{Binding Nota}" FontAttributes="Bold" HorizontalOptions="End"/>
                                        </StackLayout>

                                        <Label Grid.Row="2" Grid.Column="2" Text="{Binding Categoria}" TextColor="#ccc" HorizontalOptions="Center"/>
                                    </Grid>
                                </Frame>
                            </ViewCell>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
            
            <StackLayout Orientation="Horizontal" Padding="2">
                <Entry x:Name="txtTexto" Placeholder="Adicione Um Comentário" FontSize="Small" HorizontalOptions="FillAndExpand"/>
                <Picker x:Name="txtNota" HorizontalOptions="End" Title="Nota" WidthRequest="50" FontSize="Small">
                    <Picker.Items>
                        <x:String>5</x:String>
                        <x:String>4</x:String>
                        <x:String>3</x:String>
                        <x:String>2</x:String>
                        <x:String>1</x:String>
                    </Picker.Items>
                </Picker>
            </StackLayout>

            <Button Text="Comentar" Style="{StaticResource ButtonStyle}"  Margin="20, 10" Clicked="Button_Clicked"/>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>